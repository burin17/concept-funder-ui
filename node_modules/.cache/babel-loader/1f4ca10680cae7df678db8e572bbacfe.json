{"ast":null,"code":"import _slicedToArray from \"/home/burin17/proj/diploma/concept-funder/concept-funder-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/burin17/proj/diploma/concept-funder/concept-funder-ui/src/PayoutRequest.js\";\nimport React, { useState } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { useEffect } from \"react\";\nimport web3 from \"./contract/web3\";\nimport crowdfundProject from './contract/crowdfundProjectInstance';\nimport data from \"bootstrap/js/src/dom/data\";\nexport default function PayoutRequest({\n  pr,\n  fpId,\n  account,\n  currentUserId,\n  fpContractAddress\n}) {\n  const _React$useState = React.useState(pr),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        payoutRequest = _React$useState2[0],\n        setPayoutRequest = _React$useState2[1];\n\n  const _React$useState3 = React.useState(false),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        isInvestor = _React$useState4[0],\n        setIsInvestor = _React$useState4[1];\n\n  const _React$useState5 = React.useState(false),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        isApproved = _React$useState6[0],\n        setIsApproved = _React$useState6[1];\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        reportFilesToSend = _useState2[0],\n        setReportFilesToSend = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        reportFiles = _useState4[0],\n        setReportFiles = _useState4[1];\n\n  useEffect(() => {\n    setPayoutRequest(pr);\n    console.log(pr);\n    loadData();\n  }, [pr]);\n\n  async function loadData() {\n    // isCurrentUser investor\n    await fetch(\"http://localhost:18080/user/isInvestor?fpId=\" + fpId, {\n      method: \"GET\",\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => response.json()).then(data => {\n      setIsInvestor(data);\n    });\n    await fetch(\"http://localhost:18080/payout-requests/isApproved?prId=\" + pr.id, {\n      method: \"GET\",\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => response.json()).then(data => {\n      setIsApproved(data);\n      console.log(2);\n    });\n    await fetch(\"http://localhost:18080/api/payout-requests/report-files/\" + pr.id, {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => {\n      if (response.status === 200) {\n        return response.json();\n      } else return undefined;\n    }).then(data => {\n      setReportFiles(data);\n    });\n  }\n\n  function downloadFile(file) {\n    fetch(file.url, {\n      method: \"GET\",\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(res => {\n      return res.blob();\n    }).then(data => {\n      const a = document.createElement(\"a\");\n      a.href = window.URL.createObjectURL(data);\n      a.download = file.name;\n      a.click();\n    });\n  }\n\n  function approve() {\n    crowdfundProject(fpContractAddress).methods.approveRequest(pr.requestIdx).send({\n      from: account\n    }).then(res => {\n      console.log(res.events.Approved.returnValues);\n      return parseInt(res.events.Approved.returnValues.countOfApproves);\n    }).then(countOfApproves => fetch(\"http://localhost:18080/payout-requests/approve?payoutRequestId=\" + pr.id + \"&approverId=\" + currentUserId + \"&countOfApproves=\" + countOfApproves, {\n      method: \"POST\",\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    })).then(resp => resp.json()).then(data => {\n      setPayoutRequest(data);\n    }).then(data => {\n      setIsApproved(true);\n    });\n  }\n\n  function setReportFormVisibility(isVisible) {\n    if (isVisible) {\n      document.getElementById(\"reportFormWrapper\").style.display = \"flex\";\n    } else {\n      document.getElementById(\"reportFormWrapper\").style.display = \"none\";\n    }\n  }\n\n  function setCheckReportFormVisibility(isVisible) {\n    if (isVisible) {\n      document.getElementById(\"checkReportFormWrapper\").style.display = \"flex\";\n    } else {\n      document.getElementById(\"checkReportFormWrapper\").style.display = \"none\";\n    }\n  }\n\n  function addReport() {\n    const reportFormData = new FormData();\n\n    if (reportFilesToSend.length > 0) {\n      for (const file of reportFilesToSend) {\n        reportFormData.append(\"files\", file);\n      }\n    }\n\n    const notes = document.getElementById(\"reportNotes\").value;\n    fetch(\"http://localhost:18080/api/payout-requests/addReport/\" + payoutRequest.id + \"?notes=\" + notes, {\n      method: \"PUT\",\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      }),\n      body: reportFormData\n    }).then(resp => resp.json()).then(data => setPayoutRequest(data));\n  }\n\n  function addReportFile(event) {\n    setReportFilesToSend([...reportFilesToSend, event.target.files[0]]);\n    document.getElementById(\"selectedReportFilesWrapper\").style.display = \"block\";\n    document.getElementById(\"selectedReportFilesWrapper\").innerHTML += \"<div>\".concat(event.target.files[0].name, \"</div>\");\n    event.target.value = '';\n  }\n\n  return React.createElement(\"li\", {\n    key: pr,\n    style: {\n      marginLeft: \"-30px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"reportFormWrapper\",\n    className: \"auth-wrapper\",\n    style: {\n      position: \"fixed\",\n      top: \"-50px\",\n      display: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"auth-inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"Add report\"), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"Notes\"), React.createElement(\"textarea\", {\n    id: \"reportNotes\",\n    className: \"form-control\",\n    placeholder: \"Notes\",\n    style: {\n      height: \"150px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: \"reportFilesWrapper\",\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"Attach files\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"file\",\n    onChange: addReportFile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    id: \"selectedReportFilesWrapper\",\n    style: {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"Files: \")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary btn-block\",\n    onClick: () => addReport(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Save\"), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary btn-block\",\n    style: {\n      marginLeft: \"175px\"\n    },\n    onClick: () => setReportFormVisibility(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \"Cancel\")))), React.createElement(\"div\", {\n    id: \"checkReportFormWrapper\",\n    className: \"auth-wrapper\",\n    style: {\n      position: \"fixed\",\n      top: \"-50px\",\n      display: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"auth-inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, \"Report\"), React.createElement(\"div\", {\n    className: \"p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \"Report: \", payoutRequest.reportNotes), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    style: {\n      listStyle: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, reportFiles.map(file => {\n    return React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"#000\",\n        textDecoration: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, file.name), React.createElement(\"button\", {\n      id: \"startBtn\",\n      type: \"button\",\n      className: \"m-2 btn btn-light\",\n      onClick: () => downloadFile(file),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Download\"));\n  }))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary btn-block\",\n    style: {\n      marginLeft: \"175px\"\n    },\n    onClick: () => setCheckReportFormVisibility(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, \"Cancel\")))), React.createElement(\"div\", {\n    className: \"bg-light m-5 p-3 fpWrapper\",\n    style: {\n      borderRadius: \"15px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, \"Requested sum: \", payoutRequest.ethAmount), React.createElement(\"div\", {\n    className: \"p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, \"Intention: \", payoutRequest.intention), React.createElement(\"div\", {\n    className: \"p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, \"Promised report: \", payoutRequest.reporting), React.createElement(\"div\", {\n    className: \"row p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, \"Due date: \", payoutRequest.achieveBy.substring(0, payoutRequest.achieveBy.indexOf('T'))), React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, \"Count of approves: \", payoutRequest.countOfApproves), React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, \"Required amount of approves: \", payoutRequest.requiredAmountOfApproves), payoutRequest.countOfApproves >= payoutRequest.requiredAmountOfApproves && payoutRequest.reportNotes === null && React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, \"STATUS: PAID OUT\"), payoutRequest.countOfApproves < payoutRequest.requiredAmountOfApproves && payoutRequest.reportNotes === null && React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, \"STATUS: WAITING FOR APPROVE\"), payoutRequest.reportNotes !== null && React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, \"STATUS: REPORTED\")), payoutRequest.reportNotes !== null && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }), isInvestor && !isApproved && React.createElement(\"button\", {\n    id: \"startBtn\",\n    type: \"button\",\n    className: \"m-2 btn btn-primary\",\n    onClick: () => approve(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, \"Approve\"), currentUserId === payoutRequest.fundraisingProject.founder.id && payoutRequest.reportNotes === null && payoutRequest.countOfApproves >= payoutRequest.requiredAmountOfApproves && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"addReport\",\n    type: \"button\",\n    className: \"m-2 btn btn-primary\",\n    onClick: () => setReportFormVisibility(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, \"Add report\")), payoutRequest.reportNotes !== null && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"checkReport\",\n    type: \"button\",\n    className: \"m-2 btn btn-primary\",\n    onClick: () => setCheckReportFormVisibility(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }, \"Check report\"))));\n}","map":{"version":3,"sources":["/home/burin17/proj/diploma/concept-funder/concept-funder-ui/src/PayoutRequest.js"],"names":["React","useState","useEffect","web3","crowdfundProject","data","PayoutRequest","pr","fpId","account","currentUserId","fpContractAddress","payoutRequest","setPayoutRequest","isInvestor","setIsInvestor","isApproved","setIsApproved","reportFilesToSend","setReportFilesToSend","reportFiles","setReportFiles","console","log","loadData","fetch","method","headers","Headers","sessionStorage","jwtToken","then","response","json","id","status","undefined","downloadFile","file","url","res","blob","a","document","createElement","href","window","URL","createObjectURL","download","name","click","approve","methods","approveRequest","requestIdx","send","from","events","Approved","returnValues","parseInt","countOfApproves","resp","setReportFormVisibility","isVisible","getElementById","style","display","setCheckReportFormVisibility","addReport","reportFormData","FormData","length","append","notes","value","body","addReportFile","event","target","files","innerHTML","marginLeft","position","top","height","reportNotes","listStyle","map","color","textDecoration","borderRadius","ethAmount","intention","reporting","achieveBy","substring","indexOf","requiredAmountOfApproves","fundraisingProject","founder"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport {useEffect} from \"react\";\nimport web3 from \"./contract/web3\";\nimport crowdfundProject from './contract/crowdfundProjectInstance';\nimport data from \"bootstrap/js/src/dom/data\";\n\nexport default function PayoutRequest({pr, fpId, account, currentUserId, fpContractAddress}) {\n    const [payoutRequest, setPayoutRequest] = React.useState(pr);\n    const [isInvestor, setIsInvestor] = React.useState(false);\n    const [isApproved, setIsApproved] = React.useState(false);\n    const [reportFilesToSend, setReportFilesToSend] = useState([]);\n    const [reportFiles, setReportFiles] = useState([]);\n\n    useEffect(() =>{\n        setPayoutRequest(pr);\n        console.log(pr);\n        loadData();\n    }, [pr])\n\n    async function loadData() {\n        // isCurrentUser investor\n        await fetch(\"http://localhost:18080/user/isInvestor?fpId=\" + fpId, {\n            method: \"GET\",\n            headers: new Headers({\n                \"Authorization\": sessionStorage.jwtToken\n            })\n        }).then(response => response.json())\n            .then(data => {\n                setIsInvestor(data);\n            });\n        await fetch(\"http://localhost:18080/payout-requests/isApproved?prId=\" + pr.id, {\n            method: \"GET\",\n            headers: new Headers({\n                \"Authorization\": sessionStorage.jwtToken\n            })\n        }).then(response => response.json())\n            .then(data => {\n                setIsApproved(data);\n                console.log(2)\n        });\n\n        await fetch(`http://localhost:18080/api/payout-requests/report-files/` + pr.id,\n            {\n                method: 'GET',\n                headers: new Headers({\n                    \"Authorization\": sessionStorage.jwtToken\n                })\n            })\n            .then(response => {\n                if (response.status === 200) {\n                    return response.json()\n                } else return undefined;\n            })\n            .then(data => {\n                setReportFiles(data);\n            });\n    }\n\n    function downloadFile(file) {\n        fetch(file.url, {\n            method: \"GET\",\n            headers: new Headers({\n                \"Authorization\": sessionStorage.jwtToken,\n            }),\n        }).then((res) => { return res.blob(); })\n            .then((data) => {\n                const a = document.createElement(\"a\");\n                a.href = window.URL.createObjectURL(data);\n                a.download = file.name;\n                a.click();\n            });\n    }\n\n\n    function approve() {\n        crowdfundProject(fpContractAddress).methods.approveRequest(pr.requestIdx).send({\n            from: account\n        }).then(res => {\n            console.log(res.events.Approved.returnValues);\n            return parseInt(res.events.Approved.returnValues.countOfApproves);\n        }).then(countOfApproves =>\n            fetch(\"http://localhost:18080/payout-requests/approve?payoutRequestId=\" +\n            pr.id + \"&approverId=\" + currentUserId + \"&countOfApproves=\" + countOfApproves, {\n            method: \"POST\",\n            headers: new Headers({\n                \"Authorization\": sessionStorage.jwtToken,\n            }),\n        }))\n            .then(resp => resp.json())\n          .then(data => {\n            setPayoutRequest(data);\n        }).then(data => {\n            setIsApproved(true);\n        })\n    }\n\n    function setReportFormVisibility(isVisible) {\n        if (isVisible) {\n            document.getElementById(\"reportFormWrapper\").style.display = \"flex\";\n        } else {\n            document.getElementById(\"reportFormWrapper\").style.display = \"none\";\n        }\n    }\n\n    function setCheckReportFormVisibility(isVisible) {\n        if (isVisible) {\n            document.getElementById(\"checkReportFormWrapper\").style.display = \"flex\";\n        } else {\n            document.getElementById(\"checkReportFormWrapper\").style.display = \"none\";\n        }\n    }\n\n\n    function addReport() {\n        const reportFormData = new FormData();\n        if (reportFilesToSend.length > 0) {\n            for (const file of reportFilesToSend) {\n                reportFormData.append(\"files\", file);\n            }\n        }\n        const notes = document.getElementById(\"reportNotes\").value;\n        fetch(\"http://localhost:18080/api/payout-requests/addReport/\" + payoutRequest.id + \"?notes=\" + notes, {\n            method: \"PUT\",\n            headers: new Headers({\n                \"Authorization\": sessionStorage.jwtToken\n            }),\n            body: reportFormData\n        }).then(resp => resp.json())\n            .then(data => setPayoutRequest(data));\n    }\n\n    function addReportFile(event) {\n        setReportFilesToSend([...reportFilesToSend,event.target.files[0]]);\n        document.getElementById(\"selectedReportFilesWrapper\").style.display = \"block\";\n        document.getElementById(\"selectedReportFilesWrapper\").innerHTML +=\n            `<div>${event.target.files[0].name}</div>`\n        event.target.value = '';\n    }\n\n    return (\n        <li key={pr} style={{marginLeft: \"-30px\"}}>\n            <div id=\"reportFormWrapper\" className=\"auth-wrapper\" style={{position: \"fixed\", top: \"-50px\", display: \"none\"}}>\n                <div className=\"auth-inner\">\n                    <form>\n                        <h3>Add report</h3>\n\n                        <div className=\"form-group\">\n                            <label>Notes</label>\n                            <textarea id=\"reportNotes\" className=\"form-control\" placeholder=\"Notes\" style={{height: \"150px\"}}/>\n                        </div>\n\n                        <div id=\"reportFilesWrapper\" className=\"form-group\">\n                            <label>Attach files</label><br/>\n                            <input type=\"file\" onChange={addReportFile}/>\n                        </div>\n\n                        <div id=\"selectedReportFilesWrapper\" style={{display: 'none'}}>\n                            <label>Files: </label>\n                        </div>\n\n                        <br/>\n                        <button type=\"button\" className=\"btn btn-primary btn-block\" onClick={() => addReport()}>Save</button>\n                        <button type=\"button\" className=\"btn btn-secondary btn-block\" style={{marginLeft: \"175px\"}}\n                                onClick={() => setReportFormVisibility(false)}>Cancel</button>\n                    </form>\n                </div>\n            </div>\n\n            <div id=\"checkReportFormWrapper\" className=\"auth-wrapper\" style={{position: \"fixed\", top: \"-50px\", display: \"none\"}}>\n                <div className=\"auth-inner\">\n                    <form>\n                        <h3>Report</h3>\n\n                        <div className=\"p-3\">Report: {payoutRequest.reportNotes}</div>\n\n                        <div>\n                            <ul style={{listStyle: \"none\"}}>\n                                {reportFiles.map(file => {\n                                    return <li>\n                                        <span style={{color: \"#000\", textDecoration: \"none\"}}>\n                                            {file.name}\n                                        </span>\n                                        <button id=\"startBtn\" type=\"button\" className=\"m-2 btn btn-light\" onClick={() => downloadFile(file)}>Download</button>\n                                    </li>\n                                })\n                                }\n                            </ul>\n                        </div>\n\n                        <br/>\n                        <button type=\"button\" className=\"btn btn-secondary btn-block\" style={{marginLeft: \"175px\"}}\n                                onClick={() => setCheckReportFormVisibility(false)}>Cancel</button>\n                    </form>\n                </div>\n            </div>\n\n            <div className=\"bg-light m-5 p-3 fpWrapper\" style={{borderRadius: \"15px\"}}>\n                <h3 className=\"p-3\">Requested sum: {payoutRequest.ethAmount}</h3>\n                <div className=\"p-3\">Intention: {payoutRequest.intention}</div>\n                <div className=\"p-3\">Promised report: {payoutRequest.reporting}</div>\n                <div className=\"row p-3\">\n                    <div className=\"col-sm\">Due date: {payoutRequest.achieveBy.substring(0, payoutRequest.achieveBy.indexOf('T'))}</div>\n                    <div className=\"col-sm\">Count of approves: {payoutRequest.countOfApproves}</div>\n                    <div className=\"col-sm\">Required amount of approves: {payoutRequest.requiredAmountOfApproves}</div>\n                    {payoutRequest.countOfApproves >= payoutRequest.requiredAmountOfApproves && payoutRequest.reportNotes === null &&\n                        <div className=\"col-sm\">STATUS: PAID OUT</div>\n                    }\n                    {payoutRequest.countOfApproves < payoutRequest.requiredAmountOfApproves && payoutRequest.reportNotes === null &&\n                        <div className=\"col-sm\">STATUS: WAITING FOR APPROVE</div>\n                    }\n                    {payoutRequest.reportNotes !== null &&\n                        <div className=\"col-sm\">STATUS: REPORTED</div>\n                    }\n                </div>\n                {payoutRequest.reportNotes !== null &&\n                    <div>\n\n                    </div>\n                }\n                {isInvestor && !isApproved &&\n                    <button id=\"startBtn\" type=\"button\" className=\"m-2 btn btn-primary\" onClick={() => approve()}>Approve</button>\n                }\n                {currentUserId === payoutRequest.fundraisingProject.founder.id && payoutRequest.reportNotes === null && payoutRequest.countOfApproves >= payoutRequest.requiredAmountOfApproves &&\n                    <div>\n                        <button id=\"addReport\" type=\"button\" className=\"m-2 btn btn-primary\" onClick={() => setReportFormVisibility(true)}>Add report</button>\n                    </div>\n                }\n                {payoutRequest.reportNotes !== null &&\n                    <div>\n                        <button id=\"checkReport\" type=\"button\" className=\"m-2 btn btn-primary\" onClick={() => setCheckReportFormVisibility(true)}>Check report</button>\n                    </div>\n                }\n            </div>\n        </li>\n    )\n}"]},"metadata":{},"sourceType":"module"}