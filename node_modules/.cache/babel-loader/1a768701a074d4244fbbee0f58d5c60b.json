{"ast":null,"code":"import _slicedToArray from \"/home/burin17/proj/diploma/concept-funder/concept-funder-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/burin17/proj/diploma/concept-funder/concept-funder-ui/src/FundraisingProject/FundraisingProjectDetails.js\";\nimport React, { useLayoutEffect, useState } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { useEffect } from \"react\";\nimport web3 from '../contract/web3';\nimport { useParams } from \"react-router-dom\";\nimport PayoutRequest from \"../PayoutRequest\";\nimport '../fundraisingProjects.css';\nimport crowdfundProject from '../contract/crowdfundProjectInstance';\nimport { useLocation } from \"react-router-dom\";\nimport { node } from \"prop-types\";\nimport '../loading.css';\nexport default function FundraisingProjectDetails() {\n  const locationData = useLocation();\n\n  const _useParams = useParams(),\n        fpId = _useParams.fpId;\n\n  const _React$useState = React.useState(),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        fProj = _React$useState2[0],\n        setFp = _React$useState2[1];\n\n  const _React$useState3 = React.useState([]),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        payoutRequests = _React$useState4[0],\n        setPayoutRequests = _React$useState4[1];\n\n  const _React$useState5 = React.useState(),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        currentUser = _React$useState6[0],\n        setCurrentUser = _React$useState6[1];\n\n  const _React$useState7 = React.useState([]),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        accounts = _React$useState8[0],\n        setAccounts = _React$useState8[1];\n\n  const _React$useState9 = React.useState(false),\n        _React$useState10 = _slicedToArray(_React$useState9, 2),\n        isLoaded = _React$useState10[0],\n        loaded = _React$useState10[1];\n\n  const _React$useState11 = React.useState(false),\n        _React$useState12 = _slicedToArray(_React$useState11, 2),\n        isDurationAvailable = _React$useState12[0],\n        setIsDurationAvailable = _React$useState12[1];\n\n  const _React$useState13 = React.useState(),\n        _React$useState14 = _slicedToArray(_React$useState13, 2),\n        moderationFiles = _React$useState14[0],\n        setModerationFiles = _React$useState14[1];\n\n  const _React$useState15 = React.useState(),\n        _React$useState16 = _slicedToArray(_React$useState15, 2),\n        images = _React$useState16[0],\n        setImages = _React$useState16[1];\n\n  const _React$useState17 = React.useState(),\n        _React$useState18 = _slicedToArray(_React$useState17, 2),\n        otherFiles = _React$useState18[0],\n        setOtherFiles = _React$useState18[1];\n\n  const _React$useState19 = React.useState('RFPO'),\n        _React$useState20 = _slicedToArray(_React$useState19, 2),\n        activeTab = _React$useState20[0],\n        setActiveTab = _React$useState20[1];\n\n  const _React$useState21 = React.useState(false),\n        _React$useState22 = _slicedToArray(_React$useState21, 2),\n        loading = _React$useState22[0],\n        setLoading = _React$useState22[1];\n\n  const _React$useState23 = React.useState(false),\n        _React$useState24 = _slicedToArray(_React$useState23, 2),\n        rfpoLoading = _React$useState24[0],\n        setRfpoLoading = _React$useState24[1];\n\n  useEffect(() => {\n    loadData();\n  }, [fpId]);\n\n  async function loadData() {\n    console.log(locationData);\n    await fetch(\"http://localhost:18080/fundraising-projects/\" + fpId, {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => response.json()).then(data => {\n      setFp(data);\n      setIsDurationAvailable(data.duration != undefined);\n    });\n    await fetch(\"http://localhost:18080/payout-requests/\" + fpId, {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => response.json()).then(data => {\n      setPayoutRequests(data);\n    });\n    await fetch(\"http://localhost:18080/user/selfProfile\", {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => response.json()).then(data => {\n      setCurrentUser(data);\n    });\n\n    if (locationData.state.isModeration) {\n      await fetch(\"http://localhost:18080/api/fundraising-projects/moderation-files/\" + fpId, {\n        method: 'GET',\n        headers: new Headers({\n          \"Authorization\": sessionStorage.jwtToken\n        })\n      }).then(response => {\n        if (response.status === 200) {\n          return response.json();\n        } else return undefined;\n      }).then(data => {\n        setModerationFiles(data);\n      });\n    }\n\n    await fetch(\"http://localhost:18080/api/fundraising-projects/image-files/\" + fpId, {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => {\n      if (response.status === 200) {\n        return response.json();\n      } else return undefined;\n    }).then(data => {\n      setImages(data);\n    });\n    await fetch(\"http://localhost:18080/api/fundraising-projects/other-files/\" + fpId, {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => {\n      if (response.status === 200) {\n        return response.json();\n      } else return undefined;\n    }).then(data => {\n      setOtherFiles(data);\n    });\n    await web3.eth.getAccounts().then(accounts => {\n      setAccounts(accounts);\n      loaded(true);\n    });\n  }\n\n  if (isLoaded === false) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    });\n  }\n\n  async function invest() {\n    const ethAmount = document.getElementById(\"ethAmount\").value;\n\n    if (!/^[\\d.]+$/.test(ethAmount)) {\n      document.getElementById(\"ethAmount\").value = \"\";\n      alert(\"Ether amount must be float\");\n    } else {\n      setLoading(true);\n      const contractAddress = fProj.contractAddress;\n      await crowdfundProject(contractAddress).methods.contribute().send({\n        from: accounts[0],\n        value: web3.utils.toWei(String(ethAmount), 'ether')\n      }).then(res => {\n        setLoading(false);\n        const currentAmount = parseInt(res.events.FundingReceived.returnValues.currentTotal, 10) / 1000000000000000000;\n        fProj.currentAmount = currentAmount;\n        return fetch(\"http://localhost:18080/fundraising-projects/invest?id=\" + fProj.fundraisingProjectId + \"&currentAmount=\" + currentAmount + \"&investor=\" + currentUser.id + \"&ethAmount=\" + ethAmount, {\n          method: 'POST',\n          headers: new Headers({\n            \"Authorization\": sessionStorage.jwtToken\n          })\n        });\n      }).then(response => response.json()).then(data => {\n        setFp(data);\n      }).catch(() => setLoading(false));\n    }\n  }\n\n  function setRPFormVisibility(isVisible) {\n    if (isVisible) {\n      document.getElementById(\"formWrapper\").style.display = \"flex\";\n    } else {\n      document.getElementById(\"formWrapper\").style.display = \"none\";\n    }\n  }\n\n  async function requestPayout() {\n    let currentlyRequested = 0;\n    payoutRequests.map(payoutRequest => {\n      currentlyRequested += payoutRequest.ethAmount;\n    });\n    const remainEth = fProj.currentAmount - currentlyRequested;\n    const ethAmount = document.getElementById(\"etherAmount\").value;\n    const intention = document.getElementById(\"intention\").value;\n    const reporting = document.getElementById(\"reporting\").value;\n    const days = document.getElementById(\"days\").value;\n\n    if (!/^[\\d.]+$/.test(ethAmount)) {\n      document.getElementById(\"errorMessage\").style.display = \"block\";\n      document.getElementById(\"errorMessage\").innerText = \"Ether amount field must be float\";\n    } else if (!/^[\\d]+$/.test(days)) {\n      document.getElementById(\"errorMessage\").style.display = \"block\";\n      document.getElementById(\"errorMessage\").innerText = \"Days field must be integer\";\n    } else if (ethAmount === \"\" || intention === \"\" || reporting === \"\" || days === \"\") {\n      document.getElementById(\"errorMessage\").style.display = \"block\";\n      document.getElementById(\"errorMessage\").innerText = \"Please fill all mandatory fields\";\n    } else if (ethAmount > remainEth) {\n      document.getElementById(\"errorMessage\").style.display = \"block\";\n      document.getElementById(\"errorMessage\").innerText = \"Ether amount exceed remains ether on smart-contract\";\n    } else {\n      setRfpoLoading(true);\n      let requiredCountOfApproves;\n      document.getElementById(\"errorMessage\").style.display = \"none\";\n      document.getElementById(\"errorMessage\").innerText = \"\";\n      let requestIdx = await crowdfundProject(fProj.contractAddress).methods.payOutRequst(web3.utils.toWei(String(ethAmount), 'ether'), days).send({\n        from: accounts[0]\n      }).then(res => {\n        console.log(res.events.PayoutRequestCreated.returnValues);\n        requiredCountOfApproves = Math.floor(res.events.PayoutRequestCreated.returnValues.requiredCountOfApproves / 2) + 1;\n        return res.events.PayoutRequestCreated.returnValues.requestIdx;\n      }).catch(() => setRfpoLoading(false)); // update balance when payout happens\n      // await fetch(\"http://localhost:18080/fundraising-projects//updateCurrentBalance?id = \" + fpId\n      //     + \"&currentBalance=\" + )\n\n      if (requestIdx > -1) {\n        await fetch(\"http://localhost:18080/payout-requests/create\", {\n          method: \"POST\",\n          headers: new Headers({\n            \"Authorization\": sessionStorage.jwtToken,\n            'Content-Type': 'application/json'\n          }),\n          body: JSON.stringify({\n            \"ethAmount\": ethAmount,\n            \"intention\": intention,\n            \"reporting\": reporting,\n            \"days\": days,\n            \"fundraisingProjectId\": fpId,\n            \"requestIdx\": requestIdx,\n            \"requiredAmountOfApproves\": requiredCountOfApproves\n          })\n        }).then(resp => resp.json()).then(data => {\n          let prs = [...payoutRequests, data];\n          setPayoutRequests(prs);\n          setRfpoLoading(false);\n        });\n      }\n    }\n  }\n\n  function downloadFile(file) {\n    fetch(file.url, {\n      method: \"GET\",\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(res => {\n      return res.blob();\n    }).then(data => {\n      const a = document.createElement(\"a\");\n      a.href = window.URL.createObjectURL(data);\n      a.download = file.name;\n      a.click();\n    });\n  }\n\n  function createVkPost() {\n    window.open(\"https://vk.com/share.php?url=\".concat(document.URL, \"&title=\").concat(fProj.title), '_blank', 'location=yes,height=570,width=520,scrollbars=yes,status=yes');\n  }\n\n  function sendTelegram() {\n    window.open(\"https://telegram.me/share/url?url=\".concat(document.URL, \"&text=\").concat(fProj.title), '_blank', 'location=yes,height=570,width=520,scrollbars=yes,status=yes');\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"formWrapper\",\n    className: \"auth-wrapper\",\n    style: {\n      position: \"absolute\",\n      display: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"auth-inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"errorMessage\",\n    style: {\n      display: \"none\",\n      color: \"red\",\n      textAlign: \"center\",\n      marginBottom: \"5px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268\n    },\n    __self: this\n  }, \"Request for payout\"), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }, \"Ether amount\"), React.createElement(\"input\", {\n    id: \"etherAmount\",\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Ether amount\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276\n    },\n    __self: this\n  }, \"Intention\"), React.createElement(\"textarea\", {\n    id: \"intention\",\n    className: \"form-control\",\n    placeholder: \"Intention\",\n    style: {\n      height: \"150px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281\n    },\n    __self: this\n  }, \"Reporting\"), React.createElement(\"textarea\", {\n    id: \"reporting\",\n    className: \"form-control\",\n    placeholder: \"Reporting\",\n    style: {\n      height: \"150px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286\n    },\n    __self: this\n  }, \"Days\"), React.createElement(\"input\", {\n    id: \"days\",\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Days\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary btn-block\",\n    onClick: () => requestPayout(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291\n    },\n    __self: this\n  }, \"Request\"), rfpoLoading && React.createElement(\"div\", {\n    className: \"loader\",\n    style: {\n      position: \"absolute\",\n      left: \"836px\",\n      bottom: \"198px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary btn-block\",\n    style: {\n      marginLeft: \"175px\"\n    },\n    onClick: () => setRPFormVisibility(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295\n    },\n    __self: this\n  }, \"Cancel\")))), React.createElement(\"div\", {\n    className: \"bg-light m-5 p-3 fpWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301\n    },\n    __self: this\n  }, fProj.title), React.createElement(\"div\", {\n    className: \"p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }, fProj.description), React.createElement(\"div\", {\n    className: \"row p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }, \"User: \", fProj.founder.username), React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }, \"Goal: \", fProj.amountGoal, \" ETH\"), isDurationAvailable > 0 && React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307\n    },\n    __self: this\n  }, \"Due date: \", fProj.duration.substring(0, fProj.duration.indexOf('T'))), React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310\n    },\n    __self: this\n  }, \"Days: \", fProj.days), React.createElement(\"div\", {\n    className: \"col-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }, \"Raised: \", fProj.currentAmount, \" ETH\")), React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      width: \"96%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"p-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }, fProj.tags.map(tag => \"#\" + tag + \" \")), React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      marginTop: \"14px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    id: \"vkImg\",\n    src: \"/images/vk.png\",\n    width: \"40\",\n    onClick: createVkPost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    id: \"vkImg\",\n    src: \"/images/tg.png\",\n    width: \"43\",\n    onClick: sendTelegram,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  })))), fProj.founder.id != currentUser.id && React.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group m-2 w-25\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"ethAmount\",\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"ETH amount\",\n    \"aria-label\": \"ETH amount\",\n    \"aria-describedby\": \"basic-addon2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    id: \"startBtn\",\n    type: \"button\",\n    className: \"btn btn-primary\",\n    onClick: () => invest(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329\n    },\n    __self: this\n  }, \"Contribute\")), loading && React.createElement(\"div\", {\n    className: \"loader\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334\n    },\n    __self: this\n  })), fProj.founder.id == currentUser.id && fProj.status == \"FINANCED\" && React.createElement(\"button\", {\n    id: \"startBtn\",\n    type: \"button\",\n    className: \"m-2 btn btn-primary\",\n    onClick: () => setRPFormVisibility(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  }, \"Request payout\"))), React.createElement(\"div\", {\n    id: \"tabsWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"storyTab\",\n    onClick: () => {\n      setActiveTab(\"Story\");\n\n      for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n      }\n\n      document.getElementById(\"storyTab\").style.color = '#000';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345\n    },\n    __self: this\n  }, \"Story\"), React.createElement(\"div\", {\n    id: \"rfpoTab\",\n    onClick: () => {\n      setActiveTab(\"RFPO\");\n\n      for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n      }\n\n      document.getElementById(\"rfpoTab\").style.color = '#000';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354\n    },\n    __self: this\n  }, \"Requests for payout\"), React.createElement(\"div\", {\n    id: \"imagesTab\",\n    onClick: () => {\n      setActiveTab(\"Images\");\n\n      for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n      }\n\n      document.getElementById(\"imagesTab\").style.color = '#000';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363\n    },\n    __self: this\n  }, \"Images\"), React.createElement(\"div\", {\n    id: \"videosTab\",\n    onClick: () => {\n      setActiveTab(\"Videos\");\n\n      for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n      }\n\n      document.getElementById(\"videosTab\").style.color = '#000';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370\n    },\n    __self: this\n  }, \"Videos\"), React.createElement(\"div\", {\n    id: \"otherFilesTab\",\n    onClick: () => {\n      setActiveTab(\"Other\");\n\n      for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n      }\n\n      document.getElementById(\"otherFilesTab\").style.color = '#000';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377\n    },\n    __self: this\n  }, \"Other files\"), locationData.state.isModeration && React.createElement(\"div\", {\n    id: \"moderationFilesTab\",\n    onClick: () => {\n      setActiveTab(\"Moderation\");\n\n      for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n      }\n\n      document.getElementById(\"moderationFilesTab\").style.color = '#000';\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385\n    },\n    __self: this\n  }, \"Moderation\")), activeTab === 'Story' && React.createElement(\"div\", {\n    style: {\n      whiteSpace: \"pre-line\"\n    },\n    className: \"bg-light m-5 p-3 fpWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395\n    },\n    __self: this\n  }, fProj.story), payoutRequests.length > 0 && activeTab === 'RFPO' && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    style: {\n      listStyle: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401\n    },\n    __self: this\n  }, payoutRequests.map(payoutRequest => {\n    return React.createElement(PayoutRequest, {\n      pr: payoutRequest,\n      fpId: fProj.fundraisingProjectId,\n      account: accounts[0],\n      currentUserId: currentUser.id,\n      fpContractAddress: fProj.contractAddress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    });\n  }))), activeTab === 'Other' && otherFiles && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    style: {\n      listStyle: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411\n    },\n    __self: this\n  }, otherFiles.map(file => {\n    return React.createElement(\"li\", {\n      style: {\n        marginLeft: \"25px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"#000\",\n        textDecoration: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414\n      },\n      __self: this\n    }, file.name), React.createElement(\"button\", {\n      id: \"startBtn\",\n      type: \"button\",\n      className: \"m-2 btn btn-light\",\n      onClick: () => downloadFile(file),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, \"Download\"));\n  }))), activeTab === 'Images' && images && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    style: {\n      listStyle: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426\n    },\n    __self: this\n  }, images.map(file => {\n    return React.createElement(\"li\", {\n      style: {\n        margin: \"25px\",\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: {\n        width: \"100%\",\n        maxWidth: \"1400px\"\n      },\n      src: file.url,\n      alt: \"img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }));\n  }))), activeTab === 'Moderation' && moderationFiles && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"bg-light m-5 p-3 fpWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438\n    },\n    __self: this\n  }, fProj.moderationNotes), React.createElement(\"div\", {\n    id: \"moderationFilesWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    style: {\n      listStyle: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442\n    },\n    __self: this\n  }, moderationFiles.map(file => {\n    return React.createElement(\"li\", {\n      style: {\n        marginLeft: \"25px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        color: \"#000\",\n        textDecoration: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445\n      },\n      __self: this\n    }, file.name), React.createElement(\"button\", {\n      id: \"startBtn\",\n      type: \"button\",\n      className: \"m-2 btn btn-light\",\n      onClick: () => downloadFile(file),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, \"Download\"));\n  })))), activeTab === 'Videos' && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"youtubeVideosWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    style: {\n      listStyle: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459\n    },\n    __self: this\n  }, fProj.youtubeLinks.map(link => {\n    return React.createElement(\"li\", {\n      style: {\n        width: \"56%\",\n        margin: \"40px auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462\n      },\n      __self: this\n    }, console.log(link), React.createElement(\"iframe\", {\n      src: link,\n      frameBorder: \"0\",\n      allow: \"autoplay; encrypted-media\",\n      allowFullScreen: true,\n      title: \"video\",\n      width: \"1000px\",\n      height: \"600px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }), \" \"));\n  })))));\n}","map":{"version":3,"sources":["/home/burin17/proj/diploma/concept-funder/concept-funder-ui/src/FundraisingProject/FundraisingProjectDetails.js"],"names":["React","useLayoutEffect","useState","useEffect","web3","useParams","PayoutRequest","crowdfundProject","useLocation","node","FundraisingProjectDetails","locationData","fpId","fProj","setFp","payoutRequests","setPayoutRequests","currentUser","setCurrentUser","accounts","setAccounts","isLoaded","loaded","isDurationAvailable","setIsDurationAvailable","moderationFiles","setModerationFiles","images","setImages","otherFiles","setOtherFiles","activeTab","setActiveTab","loading","setLoading","rfpoLoading","setRfpoLoading","loadData","console","log","fetch","method","headers","Headers","sessionStorage","jwtToken","then","response","json","data","duration","undefined","state","isModeration","status","eth","getAccounts","invest","ethAmount","document","getElementById","value","test","alert","contractAddress","methods","contribute","send","from","utils","toWei","String","res","currentAmount","parseInt","events","FundingReceived","returnValues","currentTotal","fundraisingProjectId","id","catch","setRPFormVisibility","isVisible","style","display","requestPayout","currentlyRequested","map","payoutRequest","remainEth","intention","reporting","days","innerText","requiredCountOfApproves","requestIdx","payOutRequst","PayoutRequestCreated","Math","floor","body","JSON","stringify","resp","prs","downloadFile","file","url","blob","a","createElement","href","window","URL","createObjectURL","download","name","click","createVkPost","open","title","sendTelegram","position","color","textAlign","marginBottom","height","left","bottom","marginLeft","description","founder","username","amountGoal","substring","indexOf","justifyContent","width","tags","tag","marginTop","i","children","length","whiteSpace","story","listStyle","textDecoration","margin","maxWidth","moderationNotes","youtubeLinks","link"],"mappings":"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","sourcesContent":["import React, {useLayoutEffect, useState} from \"react\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport {useEffect} from \"react\";\nimport web3 from '../contract/web3';\nimport {useParams} from \"react-router-dom\";\nimport PayoutRequest from\"../PayoutRequest\"\nimport '../fundraisingProjects.css';\nimport crowdfundProject from '../contract/crowdfundProjectInstance';\nimport {useLocation} from \"react-router-dom\";\nimport {node} from \"prop-types\";\nimport '../loading.css';\n\nexport default function FundraisingProjectDetails() {\n    const locationData = useLocation();\n    const {fpId} = useParams();\n    const [fProj, setFp] = React.useState();\n    const [payoutRequests, setPayoutRequests] = React.useState([]);\n    const [currentUser, setCurrentUser] = React.useState();\n    const [accounts, setAccounts] = React.useState([]);\n    const [isLoaded, loaded] = React.useState(false);\n    const [isDurationAvailable, setIsDurationAvailable] = React.useState(false);\n    const [moderationFiles, setModerationFiles] = React.useState();\n    const [images, setImages] = React.useState();\n    const [otherFiles, setOtherFiles] = React.useState();\n    const [activeTab, setActiveTab] = React.useState('RFPO');\n    const [loading, setLoading] = React.useState(false);\n    const [rfpoLoading, setRfpoLoading] = React.useState(false);\n\n    useEffect(() =>{\n        loadData();\n    }, [fpId])\n\n    async function loadData() {\n        console.log(locationData)\n        await fetch(`http://localhost:18080/fundraising-projects/` + fpId,\n            {\n                method: 'GET',\n                headers: new Headers({\n                    \"Authorization\": sessionStorage.jwtToken\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                setFp(data);\n                setIsDurationAvailable(data.duration != undefined);\n            });\n\n        await fetch(`http://localhost:18080/payout-requests/` + fpId,\n            {\n                method: 'GET',\n                headers: new Headers({\n                    \"Authorization\": sessionStorage.jwtToken\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                setPayoutRequests(data);\n            })\n        \n        await fetch(`http://localhost:18080/user/selfProfile`,\n            {\n                method: 'GET',\n                headers: new Headers({\n                    \"Authorization\": sessionStorage.jwtToken\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                setCurrentUser(data);\n            })\n        if (locationData.state.isModeration) {\n            await fetch(`http://localhost:18080/api/fundraising-projects/moderation-files/` + fpId,\n                {\n                    method: 'GET',\n                    headers: new Headers({\n                        \"Authorization\": sessionStorage.jwtToken\n                    })\n                })\n                .then(response => {\n                    if (response.status === 200) {\n                        return response.json()\n                    } else return undefined;\n                })\n                .then(data => {\n                    setModerationFiles(data);\n                });\n        }\n\n        await fetch(`http://localhost:18080/api/fundraising-projects/image-files/` + fpId,\n            {\n                method: 'GET',\n                headers: new Headers({\n                    \"Authorization\": sessionStorage.jwtToken\n                })\n            })\n            .then(response => {\n                if (response.status === 200) {\n                    return response.json()\n                } else return undefined;\n            })\n            .then(data => {\n                setImages(data);\n            });\n\n        await fetch(`http://localhost:18080/api/fundraising-projects/other-files/` + fpId,\n            {\n                method: 'GET',\n                headers: new Headers({\n                    \"Authorization\": sessionStorage.jwtToken\n                })\n            })\n            .then(response => {\n                if (response.status === 200) {\n                    return response.json()\n                } else return undefined;\n            })\n            .then(data => {\n                setOtherFiles(data);\n            });\n\n        await web3.eth.getAccounts().then((accounts) => {\n            setAccounts(accounts);\n            loaded(true);\n        });\n    }\n\n    if (isLoaded === false) {\n        return <div></div>\n    }\n\n    async function invest() {\n        const ethAmount = document.getElementById(\"ethAmount\").value;\n        if (!/^[\\d.]+$/.test(ethAmount)) {\n            document.getElementById(\"ethAmount\").value = \"\";\n            alert(\"Ether amount must be float\");\n        } else {\n            setLoading(true);\n\n            const contractAddress = fProj.contractAddress;\n            await crowdfundProject(contractAddress).methods.contribute().send({\n                from: accounts[0],\n                value: web3.utils.toWei(String(ethAmount), 'ether'),\n            }).then((res) => {\n                setLoading(false);\n                const currentAmount = (parseInt(res.events.FundingReceived.returnValues.currentTotal, 10) / 1000000000000000000);\n                fProj.currentAmount = currentAmount;\n                return fetch(`http://localhost:18080/fundraising-projects/invest?id=` + fProj.fundraisingProjectId\n                    + \"&currentAmount=\" + currentAmount + \"&investor=\" + currentUser.id + \"&ethAmount=\" + ethAmount, {\n                    method: 'POST',\n                    headers: new Headers({\n                        \"Authorization\": sessionStorage.jwtToken\n                    })\n                });\n            }).then(response => response.json())\n                .then(data => {\n                    setFp(data);\n                })\n                .catch(() => setLoading(false));\n        }\n    }\n\n    function setRPFormVisibility(isVisible) {\n        if (isVisible) {\n            document.getElementById(\"formWrapper\").style.display = \"flex\";\n        } else {\n            document.getElementById(\"formWrapper\").style.display = \"none\";\n        }\n    }\n\n    async function requestPayout() {\n        let currentlyRequested = 0;\n        payoutRequests.map(payoutRequest => {\n            currentlyRequested += payoutRequest.ethAmount;\n        })\n        const remainEth = fProj.currentAmount - currentlyRequested;\n        const ethAmount = document.getElementById(\"etherAmount\").value;\n        const intention = document.getElementById(\"intention\").value;\n        const reporting = document.getElementById(\"reporting\").value;\n        const days = document.getElementById(\"days\").value;\n        if (!/^[\\d.]+$/.test(ethAmount)) {\n            document.getElementById(\"errorMessage\").style.display = \"block\";\n            document.getElementById(\"errorMessage\").innerText = \"Ether amount field must be float\";\n        } else if (!/^[\\d]+$/.test(days)) {\n            document.getElementById(\"errorMessage\").style.display = \"block\";\n            document.getElementById(\"errorMessage\").innerText = \"Days field must be integer\";\n        } else if (ethAmount === \"\" || intention === \"\" || reporting === \"\" || days === \"\") {\n            document.getElementById(\"errorMessage\").style.display = \"block\";\n            document.getElementById(\"errorMessage\").innerText = \"Please fill all mandatory fields\";\n        } else if (ethAmount > remainEth) {\n            document.getElementById(\"errorMessage\").style.display = \"block\";\n            document.getElementById(\"errorMessage\").innerText = \"Ether amount exceed remains ether on smart-contract\";\n        } else {\n            setRfpoLoading(true);\n            let requiredCountOfApproves;\n            document.getElementById(\"errorMessage\").style.display = \"none\";\n            document.getElementById(\"errorMessage\").innerText = \"\";\n            let requestIdx = await crowdfundProject(fProj.contractAddress).methods.payOutRequst(\n                web3.utils.toWei(String(ethAmount), 'ether'), days\n            ).send({\n                from: accounts[0],\n            }).then(res => {\n                console.log(res.events.PayoutRequestCreated.returnValues);\n                requiredCountOfApproves = Math.floor(res.events.PayoutRequestCreated.returnValues.requiredCountOfApproves / 2) + 1;\n                return res.events.PayoutRequestCreated.returnValues.requestIdx;\n            }).catch(() => setRfpoLoading(false));\n\n            // update balance when payout happens\n            // await fetch(\"http://localhost:18080/fundraising-projects//updateCurrentBalance?id = \" + fpId\n            //     + \"&currentBalance=\" + )\n            if (requestIdx > -1) {\n                await fetch(\"http://localhost:18080/payout-requests/create\", {\n                    method: \"POST\",\n                    headers: new Headers({\n                        \"Authorization\": sessionStorage.jwtToken,\n                        'Content-Type': 'application/json'\n                    }),\n                    body: JSON.stringify({\n                        \"ethAmount\": ethAmount,\n                        \"intention\": intention,\n                        \"reporting\": reporting,\n                        \"days\": days,\n                        \"fundraisingProjectId\": fpId,\n                        \"requestIdx\": requestIdx,\n                        \"requiredAmountOfApproves\": requiredCountOfApproves\n                    })\n                }).then(resp => resp.json())\n                    .then(data => {\n                        let prs = [...payoutRequests, data];\n                        setPayoutRequests(prs);\n                        setRfpoLoading(false);\n                    });\n            }\n        }\n    }\n\n    function downloadFile(file) {\n        fetch(file.url, {\n            method: \"GET\",\n            headers: new Headers({\n                \"Authorization\": sessionStorage.jwtToken,\n            }),\n        }).then((res) => { return res.blob(); })\n            .then((data) => {\n                const a = document.createElement(\"a\");\n                a.href = window.URL.createObjectURL(data);\n                a.download = file.name;\n                a.click();\n            });\n    }\n\n    function createVkPost() {\n        window.open(`https://vk.com/share.php?url=${document.URL}&title=${fProj.title}`,\n            '_blank', 'location=yes,height=570,width=520,scrollbars=yes,status=yes');\n    }\n\n    function sendTelegram() {\n        window.open(`https://telegram.me/share/url?url=${document.URL}&text=${fProj.title}`,\n            '_blank', 'location=yes,height=570,width=520,scrollbars=yes,status=yes');\n    }\n\n    return (\n        <div>\n            <li>\n                <div id=\"formWrapper\" className=\"auth-wrapper\" style={{position: \"absolute\", display: \"none\"}}>\n                    <div className=\"auth-inner\">\n                        <div id=\"errorMessage\" style={{display: \"none\", color:\"red\", textAlign: \"center\", marginBottom: \"5px\"}}></div>\n                        <form>\n                            <h3>Request for payout</h3>\n\n                            <div className=\"form-group\">\n                                <label>Ether amount</label>\n                                <input id=\"etherAmount\" type=\"text\" className=\"form-control\" placeholder=\"Ether amount\" />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label>Intention</label>\n                                <textarea id=\"intention\" className=\"form-control\" placeholder=\"Intention\" style={{height: \"150px\"}}/>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label>Reporting</label>\n                                <textarea id=\"reporting\" className=\"form-control\" placeholder=\"Reporting\" style={{height: \"150px\"}}/>\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label>Days</label>\n                                <input id=\"days\" type=\"text\" className=\"form-control\" placeholder=\"Days\" />\n                            </div>\n\n                            <br/>\n                            <button type=\"button\" className=\"btn btn-primary btn-block\" onClick={() => requestPayout()}>Request</button>\n                            {rfpoLoading &&\n                                <div className=\"loader\" style={{position: \"absolute\", left: \"836px\", bottom: \"198px\"}}></div>\n                            }\n                            <button type=\"button\" className=\"btn btn-secondary btn-block\" style={{marginLeft: \"175px\"}}\n                                    onClick={() => setRPFormVisibility(false)}>Cancel</button>\n                        </form>\n                    </div>\n                </div>\n                <div className=\"bg-light m-5 p-3 fpWrapper\">\n                    <h2 className=\"p-3\">{fProj.title}</h2>\n                    <div className=\"p-3\">{fProj.description}</div>\n                    <div className=\"row p-3\">\n                        <div className=\"col-sm\">User: {fProj.founder.username}</div>\n                        <div className=\"col-sm\">Goal: {fProj.amountGoal} ETH</div>\n                        {isDurationAvailable > 0 &&\n                            <div className=\"col-sm\">Due\n                                date: {fProj.duration.substring(0, fProj.duration.indexOf('T'))}</div>\n                        }\n                        <div className=\"col-sm\">Days: {fProj.days}</div>\n                        <div className=\"col-sm\">Raised: {fProj.currentAmount} ETH</div>\n                    </div>\n                    <div style={{display: \"flex\", justifyContent: \"space-between\", width: \"96%\"}}>\n                        <div className=\"p-3\">{fProj.tags.map(tag => \"#\" + tag + \" \")}</div>\n                        <div style={{display: \"flex\", marginTop: \"14px\"}}>\n                            <div>\n                                <img id=\"vkImg\" src=\"/images/vk.png\" width=\"40\" onClick={createVkPost}/>\n                            </div>\n                            <div>\n                                <img id=\"vkImg\" src=\"/images/tg.png\" width=\"43\" onClick={sendTelegram}/>\n                            </div>\n                        </div>\n                    </div>\n                    {fProj.founder.id != currentUser.id &&\n                        <div style={{display: \"flex\"}}>\n                            <div className=\"input-group m-2 w-25\">\n                                <input id=\"ethAmount\" type=\"text\" className=\"form-control\" placeholder=\"ETH amount\"\n                                       aria-label=\"ETH amount\" aria-describedby=\"basic-addon2\"/>\n                                <button id=\"startBtn\" type=\"button\" className=\"btn btn-primary\"\n                                        onClick={() => invest()}>Contribute\n                                </button>\n                            </div>\n                            {loading &&\n                                <div className=\"loader\"></div>\n                            }\n                        </div>\n                    }\n                    {fProj.founder.id == currentUser.id && fProj.status == \"FINANCED\" &&\n                        <button id=\"startBtn\" type=\"button\" className=\"m-2 btn btn-primary\"\n                                onClick={() => setRPFormVisibility(true)}>Request payout</button>\n                    }\n                </div>\n            </li>\n            <div id=\"tabsWrapper\">\n                <div id=\"storyTab\" onClick={() => {\n                    setActiveTab(\"Story\");\n                    for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n                        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n                    }\n                    document.getElementById(\"storyTab\").style.color = '#000';\n                }}>\n                    Story\n                </div>\n                <div id=\"rfpoTab\" onClick={() => {\n                    setActiveTab(\"RFPO\");\n                    for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n                        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n                    }\n                    document.getElementById(\"rfpoTab\").style.color = '#000';\n                }}>\n                    Requests for payout\n                </div>\n                <div id=\"imagesTab\" onClick={() => {\n                    setActiveTab(\"Images\");\n                    for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n                        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n                    }\n                    document.getElementById(\"imagesTab\").style.color = '#000';\n                }}>Images</div>\n                <div id=\"videosTab\" onClick={() => {\n                    setActiveTab(\"Videos\");\n                    for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n                        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n                    }\n                    document.getElementById(\"videosTab\").style.color = '#000';\n                }}>Videos</div>\n                <div id=\"otherFilesTab\" onClick={() => {\n                    setActiveTab(\"Other\");\n                    for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n                        document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n                    }\n                    document.getElementById(\"otherFilesTab\").style.color = '#000';\n                }}>Other files</div>\n                {locationData.state.isModeration &&\n                    <div id=\"moderationFilesTab\" onClick={() => {\n                        setActiveTab(\"Moderation\");\n                        for (let i = 0; i < document.getElementById(\"tabsWrapper\").children.length; i++) {\n                            document.getElementById(\"tabsWrapper\").children[i].style.color = '#fff';\n                        }\n                        document.getElementById(\"moderationFilesTab\").style.color = '#000';\n                    }}>Moderation</div>\n                }\n            </div>\n            {activeTab === 'Story' &&\n                <div style={{whiteSpace: \"pre-line\"}} className=\"bg-light m-5 p-3 fpWrapper\">\n                    {fProj.story}\n                </div>\n            }\n            {payoutRequests.length > 0 && activeTab === 'RFPO' &&\n                <div>\n                    <ul style={{listStyle: \"none\"}}>\n                        {payoutRequests.map(payoutRequest => {\n                            return <PayoutRequest pr={payoutRequest} fpId={fProj.fundraisingProjectId} account={accounts[0]} currentUserId={currentUser.id}\n                            fpContractAddress={fProj.contractAddress}/>\n                        })}\n                    </ul>\n                </div>\n            }\n            {activeTab === 'Other' && otherFiles &&\n                <div>\n                    <ul style={{listStyle: \"none\"}}>\n                        {otherFiles.map(file => {\n                                return <li style={{marginLeft: \"25px\"}}>\n                                    <span style={{color: \"#000\", textDecoration: \"none\"}}>\n                                        {file.name}\n                                    </span>\n                                    <button id=\"startBtn\" type=\"button\" className=\"m-2 btn btn-light\" onClick={() => downloadFile(file)}>Download</button>\n                                </li>\n                            })\n                        }\n                    </ul>\n                </div>\n            }\n            {activeTab === 'Images' && images &&\n                <div>\n                    <ul style={{listStyle: \"none\"}}>\n                        {images.map(file => {\n                                return <li style={{margin: \"25px\", textAlign: \"center\"}}>\n                                    <img style={{width:\"100%\", maxWidth: \"1400px\"}} src={file.url} alt=\"img\"/>\n                                </li>\n                            })\n                        }\n                    </ul>\n                </div>\n            }\n            {activeTab === 'Moderation' && moderationFiles &&\n                <div>\n                    <div className=\"bg-light m-5 p-3 fpWrapper\">\n                        {fProj.moderationNotes}\n                    </div>\n                    <div id=\"moderationFilesWrapper\">\n                        <ul style={{listStyle: \"none\"}}>\n                            {moderationFiles.map(file => {\n                                return <li style={{marginLeft: \"25px\"}}>\n                                    <span style={{color: \"#000\", textDecoration: \"none\"}}>\n                                        {file.name}\n                                    </span>\n                                    <button id=\"startBtn\" type=\"button\" className=\"m-2 btn btn-light\" onClick={() => downloadFile(file)}>Download</button>\n                                </li>\n                                })\n                            }\n                        </ul>\n                    </div>\n                </div>\n            }\n            {activeTab === 'Videos' &&\n                <div>\n                    <div id=\"youtubeVideosWrapper\">\n                        <ul style={{listStyle: \"none\"}}>\n                            {fProj.youtubeLinks.map(link => {\n                                return <li style={{width: \"56%\", margin: \"40px auto\"}}>\n                                            <div>\n                                                {console.log(link)}\n                                                <iframe\n                                                    src={link}\n                                                    frameBorder=\"0\"\n                                                    allow=\"autoplay; encrypted-media\"\n                                                    allowFullScreen\n                                                    title=\"video\"\n                                                    width=\"1000px\"\n                                                    height=\"600px\"\n                                                />\n                                                {\" \"}\n                                            </div>\n                                        </li>\n                            })\n                            }\n                        </ul>\n                    </div>\n                </div>\n            }\n\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}