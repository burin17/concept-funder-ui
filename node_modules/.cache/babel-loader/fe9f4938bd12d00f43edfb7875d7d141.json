{"ast":null,"code":"import _slicedToArray from \"/home/burin17/proj/diploma/concept-funder/concept-funder-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/burin17/proj/diploma/concept-funder/concept-funder-ui/src/ChatList.js\";\nimport React from 'react';\nimport Chat from \"./Chat\";\nexport default function ChatList() {\n  const _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        allChats = _React$useState2[0],\n        setAllChats = _React$useState2[1];\n\n  const _React$useState3 = React.useState([]),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        assignedChats = _React$useState4[0],\n        setAssignedChat = _React$useState4[1];\n\n  const _React$useState5 = React.useState(),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        currentUser = _React$useState6[0],\n        setCurrentUser = _React$useState6[1];\n\n  async function loadData() {\n    const adminId = await fetch(\"http://localhost:18080/user/selfProfile\", {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => response.json()).then(data => {\n      setCurrentUser(data);\n      return data.userId;\n    });\n    await fetch(\"http://localhost:18080/tech-support/unassigned-chats\", {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => response.json()).then(data => {\n      setAllChats(data);\n    });\n    await fetch(\"http://localhost:18080/tech-support/unassigned-chats\", {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => response.json()).then(data => {\n      setAllChats(data);\n    });\n  }\n\n  return React.createElement(\"ul\", {\n    className: \"wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, fps !== undefined && fps.map(fp => {\n    return React.createElement(Chat, {\n      fp: fp,\n      isModeration: false,\n      isSelfProfile: false,\n      isCurrentUser: fp.founder.id === currentUser.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    });\n  }));\n}","map":{"version":3,"sources":["/home/burin17/proj/diploma/concept-funder/concept-funder-ui/src/ChatList.js"],"names":["React","Chat","ChatList","useState","allChats","setAllChats","assignedChats","setAssignedChat","currentUser","setCurrentUser","loadData","adminId","fetch","method","headers","Headers","sessionStorage","jwtToken","then","response","json","data","userId","fps","undefined","map","fp","founder","id"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,eAAe,SAASC,QAAT,GAAoB;AAAA,0BACCF,KAAK,CAACG,QAAN,CAAe,EAAf,CADD;AAAA;AAAA,QACxBC,QADwB;AAAA,QACdC,WADc;;AAAA,2BAEUL,KAAK,CAACG,QAAN,CAAe,EAAf,CAFV;AAAA;AAAA,QAExBG,aAFwB;AAAA,QAETC,eAFS;;AAAA,2BAGOP,KAAK,CAACG,QAAN,EAHP;AAAA;AAAA,QAGxBK,WAHwB;AAAA,QAGXC,cAHW;;AAK/B,iBAAeC,QAAf,GAA0B;AACtB,UAAMC,OAAO,GAAG,MAAMC,KAAK,4CACvB;AACIC,MAAAA,MAAM,EAAE,KADZ;AAEIC,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjB,yBAAiBC,cAAc,CAACC;AADf,OAAZ;AAFb,KADuB,CAAL,CAOjBC,IAPiB,CAOZC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPA,EAQjBF,IARiB,CAQZG,IAAI,IAAI;AACVZ,MAAAA,cAAc,CAACY,IAAD,CAAd;AACA,aAAOA,IAAI,CAACC,MAAZ;AACH,KAXiB,CAAtB;AAYA,UAAMV,KAAK,yDACP;AACIC,MAAAA,MAAM,EAAE,KADZ;AAEIC,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjB,yBAAiBC,cAAc,CAACC;AADf,OAAZ;AAFb,KADO,CAAL,CAODC,IAPC,CAOIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPhB,EAQDF,IARC,CAQIG,IAAI,IAAI;AACVhB,MAAAA,WAAW,CAACgB,IAAD,CAAX;AACH,KAVC,CAAN;AAWA,UAAMT,KAAK,yDACP;AACIC,MAAAA,MAAM,EAAE,KADZ;AAEIC,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjB,yBAAiBC,cAAc,CAACC;AADf,OAAZ;AAFb,KADO,CAAL,CAODC,IAPC,CAOIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPhB,EAQDF,IARC,CAQIG,IAAI,IAAI;AACVhB,MAAAA,WAAW,CAACgB,IAAD,CAAX;AACH,KAVC,CAAN;AAWH;;AAED,SACI;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKE,GAAG,KAAKC,SAAR,IAAqBD,GAAG,CAACE,GAAJ,CAAQC,EAAE,IAAI;AAChC,WAAO,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAEA,EAAV;AAAc,MAAA,YAAY,EAAE,KAA5B;AAAmC,MAAA,aAAa,EAAE,KAAlD;AAAyD,MAAA,aAAa,EAAEA,EAAE,CAACC,OAAH,CAAWC,EAAX,KAAkBpB,WAAW,CAACoB,EAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH,GAFqB,CAD1B,CADJ;AAOH","sourcesContent":["import React from 'react'\nimport Chat from \"./Chat\";\n\nexport default function ChatList() {\n    const [allChats, setAllChats] = React.useState([]);\n    const [assignedChats, setAssignedChat] = React.useState([]);\n    const [currentUser, setCurrentUser] = React.useState();\n\n    async function loadData() {\n        const adminId = await fetch(`http://localhost:18080/user/selfProfile`,\n            {\n                method: 'GET',\n                headers: new Headers({\n                    \"Authorization\": sessionStorage.jwtToken\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                setCurrentUser(data);\n                return data.userId;\n            });\n        await fetch(`http://localhost:18080/tech-support/unassigned-chats`,\n            {\n                method: 'GET',\n                headers: new Headers({\n                    \"Authorization\": sessionStorage.jwtToken\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                setAllChats(data);\n            })\n        await fetch(`http://localhost:18080/tech-support/unassigned-chats`,\n            {\n                method: 'GET',\n                headers: new Headers({\n                    \"Authorization\": sessionStorage.jwtToken\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                setAllChats(data);\n            })\n    }\n\n    return (\n        <ul className=\"wrapper\">\n            {fps !== undefined && fps.map(fp => {\n                return <Chat fp={fp} isModeration={false} isSelfProfile={false} isCurrentUser={fp.founder.id === currentUser.id}/>\n            })}\n        </ul>\n    );\n}"]},"metadata":{},"sourceType":"module"}