{"ast":null,"code":"import _slicedToArray from \"/home/burin17/proj/diploma/concept-funder/concept-funder-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/burin17/proj/diploma/concept-funder/concept-funder-ui/src/Messenger.js\";\nimport React from \"react\";\nimport \"./messenger.css\";\nimport web3 from \"./contract/web3\";\nexport default function Messenger() {\n  const _React$useState = React.useState(),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        currentUser = _React$useState2[0],\n        setCurrentUser = _React$useState2[1];\n\n  const _React$useState3 = React.useState(false),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        isLoaded = _React$useState4[0],\n        loaded = _React$useState4[1];\n\n  async function loadData() {\n    await fetch(\"http://localhost:18080/user/selfProfile\", {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(response => response.json()).then(data => {\n      setCurrentUser(data);\n    }).then(() => loaded(true));\n  }\n\n  if (isLoaded === false) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    });\n  }\n\n  const messages = [{\n    content: \"Hi!\",\n    author: {\n      username: \"ivanov\"\n    }\n  }, {\n    content: \"Hello!\",\n    author: {\n      username: \"testuser\"\n    }\n  }, {\n    content: \"How to ...?\",\n    author: {\n      username: \"ivanov\"\n    }\n  }];\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    style: {\n      marginLeft: 35\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"bg-light m-5 p-3 fpWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"messengerUl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, messages.map(msg => {\n    return React.createElement(\"li\", {\n      className: \"messengerLi\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, msg.content);\n  })), React.createElement(\"div\", {\n    className: \"input-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"messageContent\",\n    type: \"text\",\n    className: \"form-control\",\n    \"aria-describedby\": \"basic-addon2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    id: \"startBtn\",\n    type: \"button\",\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Send\")))));\n}","map":{"version":3,"sources":["/home/burin17/proj/diploma/concept-funder/concept-funder-ui/src/Messenger.js"],"names":["React","web3","Messenger","useState","currentUser","setCurrentUser","isLoaded","loaded","loadData","fetch","method","headers","Headers","sessionStorage","jwtToken","then","response","json","data","messages","content","author","username","marginLeft","map","msg"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AAEA,eAAe,SAASC,SAAT,GAAqB;AAAA,0BACMF,KAAK,CAACG,QAAN,EADN;AAAA;AAAA,QACzBC,WADyB;AAAA,QACZC,cADY;;AAAA,2BAELL,KAAK,CAACG,QAAN,CAAe,KAAf,CAFK;AAAA;AAAA,QAEzBG,QAFyB;AAAA,QAEfC,MAFe;;AAIhC,iBAAeC,QAAf,GAA0B;AACtB,UAAMC,KAAK,4CACP;AACIC,MAAAA,MAAM,EAAE,KADZ;AAEIC,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACjB,yBAAiBC,cAAc,CAACC;AADf,OAAZ;AAFb,KADO,CAAL,CAODC,IAPC,CAOIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPhB,EAQDF,IARC,CAQIG,IAAI,IAAI;AACVb,MAAAA,cAAc,CAACa,IAAD,CAAd;AACH,KAVC,EAWDH,IAXC,CAWI,MAAMR,MAAM,CAAC,IAAD,CAXhB,CAAN;AAYH;;AAED,MAAID,QAAQ,KAAK,KAAjB,EAAwB;AACpB,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAED,QAAMa,QAAQ,GAAG,CACb;AAACC,IAAAA,OAAO,EAAC,KAAT;AAAgBC,IAAAA,MAAM,EAAE;AAACC,MAAAA,QAAQ,EAAC;AAAV;AAAxB,GADa,EAEb;AAACF,IAAAA,OAAO,EAAC,QAAT;AAAmBC,IAAAA,MAAM,EAAE;AAACC,MAAAA,QAAQ,EAAC;AAAV;AAA3B,GAFa,EAGb;AAACF,IAAAA,OAAO,EAAC,aAAT;AAAwBC,IAAAA,MAAM,EAAE;AAACC,MAAAA,QAAQ,EAAC;AAAV;AAAhC,GAHa,CAAjB;AAMA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAE;AAAb,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,QAAQ,CAACK,GAAT,CAAaC,GAAG,IAAI;AACb,WAAO;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACMA,GAAG,CAACL,OADV,CAAP;AAGH,GAJJ,CADL,CADJ,EAUI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,EAAE,EAAC,gBAAV;AAA2B,IAAA,IAAI,EAAC,MAAhC;AAAuC,IAAA,SAAS,EAAC,cAAjD;AAAgE,wBAAiB,cAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAQ,IAAA,EAAE,EAAC,UAAX;AAAsB,IAAA,IAAI,EAAC,QAA3B;AAAoC,IAAA,SAAS,EAAC,iBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CAVJ,CADJ,CADJ,CADJ;AAqBH","sourcesContent":["import React from \"react\";\nimport \"./messenger.css\"\nimport web3 from \"./contract/web3\";\n\nexport default function Messenger() {\n    const [currentUser, setCurrentUser] = React.useState();\n    const [isLoaded, loaded] = React.useState(false);\n\n    async function loadData() {\n        await fetch(`http://localhost:18080/user/selfProfile`,\n            {\n                method: 'GET',\n                headers: new Headers({\n                    \"Authorization\": sessionStorage.jwtToken\n                })\n            })\n            .then(response => response.json())\n            .then(data => {\n                setCurrentUser(data);\n            })\n            .then(() => loaded(true));\n    }\n\n    if (isLoaded === false) {\n        return <div></div>\n    }\n\n    const messages = [\n        {content:\"Hi!\", author: {username:\"ivanov\"}},\n        {content:\"Hello!\", author: {username:\"testuser\"}},\n        {content:\"How to ...?\", author: {username:\"ivanov\"}},\n    ]\n\n    return (\n        <div>\n            <li style={{marginLeft: 35}}>\n                <div className=\"bg-light m-5 p-3 fpWrapper\">\n                    <ul className=\"messengerUl\">\n                        {messages.map(msg => {\n                                return <li className=\"messengerLi\">\n                                            {msg.content}\n                                        </li>\n                            })\n                        }\n                    </ul>\n\n                    <div className=\"input-group\">\n                        <input id=\"messageContent\" type=\"text\" className=\"form-control\" aria-describedby=\"basic-addon2\"/>\n                        <button id=\"startBtn\" type=\"button\" className=\"btn btn-primary\">Send</button>\n                    </div>\n                </div>\n            </li>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}