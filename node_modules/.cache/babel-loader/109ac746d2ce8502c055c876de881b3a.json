{"ast":null,"code":"import _slicedToArray from \"/home/burin17/proj/diploma/concept-funder/concept-funder-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/burin17/proj/diploma/concept-funder/concept-funder-ui/src/UserInfo.js\";\nimport React, { useState } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { useParams } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nexport default function UserInfo(props) {\n  const user = props.location.state;\n\n  const _useParams = useParams(),\n        userId = _useParams.userId;\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        investments = _useState2[0],\n        setInvestments = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        total = _useState4[0],\n        setTotal = _useState4[1];\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  function loadData() {\n    console.log(user);\n    fetch(\"http://localhost:18080/user/investments/\" + userId, {\n      method: 'GET',\n      headers: new Headers({\n        \"Authorization\": sessionStorage.jwtToken\n      })\n    }).then(resp => resp.json()).then(data => {\n      setInvestments(data);\n      let totallyContributed = 0;\n      data.map(i => totallyContributed += i.ethAmount);\n      setTotal(totallyContributed);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    style: {\n      width: \"80%\",\n      margin: \"0 auto\",\n      marginTop: \"130px\",\n      color: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    style: {\n      marginBottom: \"20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, user.username, \" investments\"), React.createElement(\"table\", {\n    className: \"table\",\n    style: {\n      color: \"#fff\",\n      marginBottom: \"40px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Crowdfunding Company\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Contributed Ethereum\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, investments.map(investment => {\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, investment.fundraisingProject.title), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, investment.ethAmount));\n  }))), total !== undefined && React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Totally contributed: \", total.toString().substring(0, 7)));\n}","map":{"version":3,"sources":["/home/burin17/proj/diploma/concept-funder/concept-funder-ui/src/UserInfo.js"],"names":["React","useState","useParams","useEffect","UserInfo","props","user","location","state","userId","investments","setInvestments","total","setTotal","loadData","console","log","fetch","method","headers","Headers","sessionStorage","jwtToken","then","resp","json","data","totallyContributed","map","i","ethAmount","width","margin","marginTop","color","marginBottom","username","investment","fundraisingProject","title","undefined","toString","substring"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport {useParams} from \"react-router-dom\";\nimport {useEffect} from \"react\";\n\nexport default function UserInfo(props) {\n    const user = props.location.state;\n    const {userId} = useParams();\n    const [investments, setInvestments] = useState([]);\n    const [total, setTotal] = useState();\n\n    useEffect(() => {\n        loadData();\n    },[]);\n\n    function loadData() {\n        console.log(user);\n        fetch(\"http://localhost:18080/user/investments/\" + userId, {\n            method: 'GET',\n            headers: new Headers({\n            \"Authorization\": sessionStorage.jwtToken\n            })\n        }).then(resp => resp.json())\n            .then(data => {\n                setInvestments(data);\n                let totallyContributed = 0;\n                data.map(i => totallyContributed += i.ethAmount);\n                setTotal(totallyContributed);\n            })\n    }\n\n    return (\n        <div style={{width: \"80%\", margin: \"0 auto\", marginTop: \"130px\", color: \"#fff\"}}>\n            <h2 style={{marginBottom: \"20px\"}}>{user.username} investments</h2>\n            <table className=\"table\" style={{color: \"#fff\", marginBottom: \"40px\"}}>\n                <thead>\n                <tr>\n                    <th scope=\"col\">Crowdfunding Company</th>\n                    <th scope=\"col\">Contributed Ethereum</th>\n                </tr>\n                </thead>\n                <tbody>\n                {investments.map(investment => {\n                    return <tr>\n                            <th scope=\"row\">{investment.fundraisingProject.title}</th>\n                            <td>{investment.ethAmount}</td>\n                           </tr>\n                })}\n                </tbody>\n            </table>\n            {total !== undefined &&\n                <h2>Totally contributed: {total.toString().substring(0, 7)}</h2>\n            }\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}